// <auto-generated />
#pragma warning disable CS0105
using MasterMemory.Validation;
using MasterMemory;
using MessagePack;
using Orca;
using System.Collections.Generic;
using System.Collections;
using System;
using UnityEngine;
using Orca.Tables;

namespace Orca
{
   public sealed class ImmutableBuilder : ImmutableBuilderBase
   {
        MemoryDatabase memory;

        public ImmutableBuilder(MemoryDatabase memory)
        {
            this.memory = memory;
        }

        public MemoryDatabase Build()
        {
            return memory;
        }

        public void ReplaceAll(System.Collections.Generic.IList<MasterCard> data)
        {
            var newData = CloneAndSortBy(data, x => x.CardId, System.Collections.Generic.Comparer<int>.Default);
            var table = new MasterCardTable(newData);
            memory = new MemoryDatabase(
                table,
                memory.MasterCardDetailTable,
                memory.MasterChildInfluenceTable,
                memory.MasterInfluenceTable,
                memory.MasterProjectileTable
            
            );
        }

        public void RemoveMasterCard(int[] keys)
        {
            var data = RemoveCore(memory.MasterCardTable.GetRawDataUnsafe(), keys, x => x.CardId, System.Collections.Generic.Comparer<int>.Default);
            var newData = CloneAndSortBy(data, x => x.CardId, System.Collections.Generic.Comparer<int>.Default);
            var table = new MasterCardTable(newData);
            memory = new MemoryDatabase(
                table,
                memory.MasterCardDetailTable,
                memory.MasterChildInfluenceTable,
                memory.MasterInfluenceTable,
                memory.MasterProjectileTable
            
            );
        }

        public void Diff(MasterCard[] addOrReplaceData)
        {
            var data = DiffCore(memory.MasterCardTable.GetRawDataUnsafe(), addOrReplaceData, x => x.CardId, System.Collections.Generic.Comparer<int>.Default);
            var newData = CloneAndSortBy(data, x => x.CardId, System.Collections.Generic.Comparer<int>.Default);
            var table = new MasterCardTable(newData);
            memory = new MemoryDatabase(
                table,
                memory.MasterCardDetailTable,
                memory.MasterChildInfluenceTable,
                memory.MasterInfluenceTable,
                memory.MasterProjectileTable
            
            );
        }

        public void ReplaceAll(System.Collections.Generic.IList<MasterCardDetail> data)
        {
            var newData = CloneAndSortBy(data, x => (x.CardId, x.DetailId), System.Collections.Generic.Comparer<(int CardId, int DetailId)>.Default);
            var table = new MasterCardDetailTable(newData);
            memory = new MemoryDatabase(
                memory.MasterCardTable,
                table,
                memory.MasterChildInfluenceTable,
                memory.MasterInfluenceTable,
                memory.MasterProjectileTable
            
            );
        }

        public void RemoveMasterCardDetail((int CardId, int DetailId)[] keys)
        {
            var data = RemoveCore(memory.MasterCardDetailTable.GetRawDataUnsafe(), keys, x => (x.CardId, x.DetailId), System.Collections.Generic.Comparer<(int CardId, int DetailId)>.Default);
            var newData = CloneAndSortBy(data, x => (x.CardId, x.DetailId), System.Collections.Generic.Comparer<(int CardId, int DetailId)>.Default);
            var table = new MasterCardDetailTable(newData);
            memory = new MemoryDatabase(
                memory.MasterCardTable,
                table,
                memory.MasterChildInfluenceTable,
                memory.MasterInfluenceTable,
                memory.MasterProjectileTable
            
            );
        }

        public void Diff(MasterCardDetail[] addOrReplaceData)
        {
            var data = DiffCore(memory.MasterCardDetailTable.GetRawDataUnsafe(), addOrReplaceData, x => (x.CardId, x.DetailId), System.Collections.Generic.Comparer<(int CardId, int DetailId)>.Default);
            var newData = CloneAndSortBy(data, x => (x.CardId, x.DetailId), System.Collections.Generic.Comparer<(int CardId, int DetailId)>.Default);
            var table = new MasterCardDetailTable(newData);
            memory = new MemoryDatabase(
                memory.MasterCardTable,
                table,
                memory.MasterChildInfluenceTable,
                memory.MasterInfluenceTable,
                memory.MasterProjectileTable
            
            );
        }

        public void ReplaceAll(System.Collections.Generic.IList<MasterChildInfluence> data)
        {
            var newData = CloneAndSortBy(data, x => x.ChildId, System.Collections.Generic.Comparer<int>.Default);
            var table = new MasterChildInfluenceTable(newData);
            memory = new MemoryDatabase(
                memory.MasterCardTable,
                memory.MasterCardDetailTable,
                table,
                memory.MasterInfluenceTable,
                memory.MasterProjectileTable
            
            );
        }

        public void RemoveMasterChildInfluence(int[] keys)
        {
            var data = RemoveCore(memory.MasterChildInfluenceTable.GetRawDataUnsafe(), keys, x => x.ChildId, System.Collections.Generic.Comparer<int>.Default);
            var newData = CloneAndSortBy(data, x => x.ChildId, System.Collections.Generic.Comparer<int>.Default);
            var table = new MasterChildInfluenceTable(newData);
            memory = new MemoryDatabase(
                memory.MasterCardTable,
                memory.MasterCardDetailTable,
                table,
                memory.MasterInfluenceTable,
                memory.MasterProjectileTable
            
            );
        }

        public void Diff(MasterChildInfluence[] addOrReplaceData)
        {
            var data = DiffCore(memory.MasterChildInfluenceTable.GetRawDataUnsafe(), addOrReplaceData, x => x.ChildId, System.Collections.Generic.Comparer<int>.Default);
            var newData = CloneAndSortBy(data, x => x.ChildId, System.Collections.Generic.Comparer<int>.Default);
            var table = new MasterChildInfluenceTable(newData);
            memory = new MemoryDatabase(
                memory.MasterCardTable,
                memory.MasterCardDetailTable,
                table,
                memory.MasterInfluenceTable,
                memory.MasterProjectileTable
            
            );
        }

        public void ReplaceAll(System.Collections.Generic.IList<MasterInfluence> data)
        {
            var newData = CloneAndSortBy(data, x => x.InfluenceId, System.Collections.Generic.Comparer<int>.Default);
            var table = new MasterInfluenceTable(newData);
            memory = new MemoryDatabase(
                memory.MasterCardTable,
                memory.MasterCardDetailTable,
                memory.MasterChildInfluenceTable,
                table,
                memory.MasterProjectileTable
            
            );
        }

        public void RemoveMasterInfluence(int[] keys)
        {
            var data = RemoveCore(memory.MasterInfluenceTable.GetRawDataUnsafe(), keys, x => x.InfluenceId, System.Collections.Generic.Comparer<int>.Default);
            var newData = CloneAndSortBy(data, x => x.InfluenceId, System.Collections.Generic.Comparer<int>.Default);
            var table = new MasterInfluenceTable(newData);
            memory = new MemoryDatabase(
                memory.MasterCardTable,
                memory.MasterCardDetailTable,
                memory.MasterChildInfluenceTable,
                table,
                memory.MasterProjectileTable
            
            );
        }

        public void Diff(MasterInfluence[] addOrReplaceData)
        {
            var data = DiffCore(memory.MasterInfluenceTable.GetRawDataUnsafe(), addOrReplaceData, x => x.InfluenceId, System.Collections.Generic.Comparer<int>.Default);
            var newData = CloneAndSortBy(data, x => x.InfluenceId, System.Collections.Generic.Comparer<int>.Default);
            var table = new MasterInfluenceTable(newData);
            memory = new MemoryDatabase(
                memory.MasterCardTable,
                memory.MasterCardDetailTable,
                memory.MasterChildInfluenceTable,
                table,
                memory.MasterProjectileTable
            
            );
        }

        public void ReplaceAll(System.Collections.Generic.IList<MasterProjectile> data)
        {
            var newData = CloneAndSortBy(data, x => x.ProjectileId, System.Collections.Generic.Comparer<int>.Default);
            var table = new MasterProjectileTable(newData);
            memory = new MemoryDatabase(
                memory.MasterCardTable,
                memory.MasterCardDetailTable,
                memory.MasterChildInfluenceTable,
                memory.MasterInfluenceTable,
                table
            
            );
        }

        public void RemoveMasterProjectile(int[] keys)
        {
            var data = RemoveCore(memory.MasterProjectileTable.GetRawDataUnsafe(), keys, x => x.ProjectileId, System.Collections.Generic.Comparer<int>.Default);
            var newData = CloneAndSortBy(data, x => x.ProjectileId, System.Collections.Generic.Comparer<int>.Default);
            var table = new MasterProjectileTable(newData);
            memory = new MemoryDatabase(
                memory.MasterCardTable,
                memory.MasterCardDetailTable,
                memory.MasterChildInfluenceTable,
                memory.MasterInfluenceTable,
                table
            
            );
        }

        public void Diff(MasterProjectile[] addOrReplaceData)
        {
            var data = DiffCore(memory.MasterProjectileTable.GetRawDataUnsafe(), addOrReplaceData, x => x.ProjectileId, System.Collections.Generic.Comparer<int>.Default);
            var newData = CloneAndSortBy(data, x => x.ProjectileId, System.Collections.Generic.Comparer<int>.Default);
            var table = new MasterProjectileTable(newData);
            memory = new MemoryDatabase(
                memory.MasterCardTable,
                memory.MasterCardDetailTable,
                memory.MasterChildInfluenceTable,
                memory.MasterInfluenceTable,
                table
            
            );
        }

    }
}